{"version":3,"file":"widgets/sortablejs.min.js","mappings":"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","sources":["webpack://surveyjs-widgets/webpack/universalModuleDefinition","webpack://surveyjs-widgets/./src/images/sortablejs.svg","webpack://surveyjs-widgets/external umd {\"root\":\"Sortable\",\"commonjs2\":\"sortablejs\",\"commonjs\":\"sortablejs\",\"amd\":\"sortablejs\"}","webpack://surveyjs-widgets/webpack/bootstrap","webpack://surveyjs-widgets/webpack/runtime/compat get default export","webpack://surveyjs-widgets/webpack/runtime/define property getters","webpack://surveyjs-widgets/webpack/runtime/hasOwnProperty shorthand","webpack://surveyjs-widgets/webpack/runtime/make namespace object","webpack://surveyjs-widgets/./src/sortablejs.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"sortablejs\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"widgets/sortablejs\", [\"sortablejs\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"widgets/sortablejs\"] = factory(require(\"sortablejs\"));\n\telse\n\t\troot[\"widgets/sortablejs\"] = factory(root[\"Sortable\"]);\n})(self, (__WEBPACK_EXTERNAL_MODULE__976__) => {\nreturn ","module.exports = \"<svg viewBox=\\\"0 0 16 16\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"M7 1h9v2H7zM9 6h7v2H9zM11 11h5v2h-5zM5 10l1 1c-2.2 0-4-1.8-4-4 0-1.9 1.3-3.4 3-3.9v-2C2.2 1.5 0 4 0 7c0 3.3 2.7 6 5.9 6H6l-1 1 1 1 3-3-3-3-1 1z\\\"></path></svg>\"","module.exports = __WEBPACK_EXTERNAL_MODULE__976__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import Sortable from \"sortablejs\";\n\nfunction init(Survey) {\n  const iconId = \"icon-sortablejs\";\n  Survey.SvgRegistry && Survey.SvgRegistry.registerIconFromSvg(iconId, require('svg-inline-loader?classPrefix!./images/sortablejs.svg'), \"\");\n  var widget = {\n    name: \"sortablelist\",\n    title: \"Sortable list\",\n    iconName: iconId,\n    widgetIsLoaded: function () {\n      return typeof Sortable != \"undefined\";\n    },\n    defaultJSON: { choices: [\"Item 1\", \"Item 2\", \"Item 3\"] },\n    rootStyle: \"width:100%:\",\n    areaStyle:\n      \"border: 1px solid #1ab394; width:100%; min-height:50px; margin-top:10px;\",\n    itemStyle: \"background-color:#1ab394;color:#fff;margin:5px;padding:10px;\",\n    isFit: function (question) {\n      return question.getType() === \"sortablelist\";\n    },\n    htmlTemplate: \"<div></div>\",\n    activatedByChanged: function (activatedBy) {\n      Survey.JsonObject.metaData.addClass(\n        \"sortablelist\",\n        [\n          { name: \"hasOther\", visible: false },\n          { name: \"storeOthersAsComment\", visible: false },\n          { name: \"hasNone\", visible: false },\n          { name: \"renderAs\", visible: false },\n          { name: \"checkboxClass\", visible: false },\n          { name: \"hasSelectAll\", visible: false },\n          { name: \"noneText\", visible: false },\n          { name: \"selectAllText\", visible: false },\n        ],\n        null,\n        \"checkbox\"\n      );\n      Survey.JsonObject.metaData.addProperty(\"sortablelist\", {\n        name: \"emptyText\",\n        default: \"Move items here.\",\n        category: \"general\",\n      });\n      Survey.JsonObject.metaData.addProperty(\"sortablelist\", {\n        name: \"useDefaultTheme:switch\",\n        default: true,\n        category: \"general\",\n      });\n      Survey.JsonObject.metaData.addProperty(\"sortablelist\", {\n        name: \"maxAnswersCount:number\",\n        default: -1,\n        category: \"general\",\n      });\n    },\n    afterRender: function (question, el) {\n      var self = this;\n\n      if (!question.useDefaultTheme) {\n        self.rootStyle = \"\";\n        self.itemStyle = \"\";\n        self.areaStyle = \"\";\n      }\n      el.style.cssText = self.rootStyle;\n      el.className = \"sjs-sortablejs-root\";\n      var source, result;\n      var resultEl = document.createElement(\"div\");\n      var emptyEl = document.createElement(\"span\");\n      var sourceEl = document.createElement(\"div\");\n\n      resultEl.style.cssText = self.areaStyle;\n      resultEl.style.boxSizing = \"border-box\";\n      resultEl.className = \"sjs-sortablejs-result\";\n\n      emptyEl.innerHTML = question.emptyText;\n      resultEl.appendChild(emptyEl);\n\n      sourceEl.style.cssText = self.areaStyle;\n      sourceEl.style.boxSizing = \"border-box\";\n      sourceEl.className = \"sjs-sortablejs-source\";\n      el.appendChild(resultEl);\n      el.appendChild(sourceEl);\n      var hasValueInResults = function (val) {\n        var res = question.value;\n        if (!Array.isArray(res)) return false;\n        for (var i = 0; i < res.length; i++) {\n          if (res[i] == val) return true;\n        }\n        return false;\n      };\n      var addChoiceToWidget = function (choice, inResults) {\n        var srcEl = inResults ? resultEl : sourceEl;\n        var newEl = document.createElement(\"div\");\n        newEl.className = \"sjs-sortablejs-item\";\n        newEl.style.cssText = self.itemStyle;\n        newEl.innerText = choice.text;\n        newEl.dataset[\"value\"] = choice.value;\n        srcEl.appendChild(newEl);\n        choice.onPropertyChanged.add(function (sender, options) {\n          newEl.innerText = sender.text;\n        });\n      };\n      var getChoicesNotInResults = function () {\n        var res = [];\n        question.visibleChoices.forEach(function (choice) {\n          if (!hasValueInResults(choice.value)) {\n            res.push(choice);\n          }\n        });\n        return res;\n      };\n      var getChoicesInResults = function () {\n        var res = [];\n        var val = question.value;\n        if (!Array.isArray(val)) return res;\n        for (var i = 0; i < val.length; i++) {\n          var item = Survey.ItemValue.getItemByValue(\n            question.visibleChoices,\n            val[i]\n          );\n          if (!!item) {\n            res.push(item);\n          }\n        }\n        return res;\n      };\n      var isUpdatingQuestionValue = false;\n      var updateValueHandler = function () {\n        if (isUpdatingQuestionValue) return;\n        resultEl.innerHTML = \"\";\n        resultEl.appendChild(emptyEl);\n        sourceEl.innerHTML = \"\";\n        var notInResults = getChoicesNotInResults();\n        var inResults = getChoicesInResults();\n        emptyEl.style.display = inResults.length > 0 ? \"none\" : \"\";\n        inResults.forEach(function (choice) {\n          addChoiceToWidget(choice, true);\n        });\n        notInResults.forEach(function (choice) {\n          addChoiceToWidget(choice, false);\n        });\n      };\n      result = question.resultEl = Sortable.create(resultEl, {\n        animation: 150,\n        disabled: question.isReadOnly,\n        group: {\n          name: question.name,\n          put: function (to, from) {\n            return (\n              to.options.group && from.options.group && to.options.group.name === from.options.group.name &&\n              (question.maxAnswersCount < 0 ||\n              to.el.children.length <= question.maxAnswersCount)\n            );\n          },\n        },\n        onSort: function (evt) {\n          var result = [];\n          if (resultEl.children.length === 1) {\n            emptyEl.style.display = \"\";\n          } else {\n            emptyEl.style.display = \"none\";\n            for (var i = 0; i < resultEl.children.length; i++) {\n              if (typeof resultEl.children[i].dataset.value === \"undefined\")\n                continue;\n              result.push(resultEl.children[i].dataset.value);\n            }\n          }\n          isUpdatingQuestionValue = true;\n          question.value = result;\n          isUpdatingQuestionValue = false;\n        },\n      });\n      source = question.sourceEl = Sortable.create(sourceEl, {\n        animation: 150,\n        disabled: question.isReadOnly,\n        group: question.name,\n      });\n      question.valueChangedCallback = updateValueHandler;\n      question.onPropertyChanged.add(function (sender, options) {\n        if (options.name == \"emptyText\") {\n          emptyEl.innerHTML = question.emptyText;\n        }\n      });\n      question.readOnlyChangedCallback = function () {\n        if (question.isReadOnly) {\n          result.options.disabled = true;\n          source.options.disabled = true;\n        } else {\n          result.options.disabled = false;\n          source.options.disabled = false;\n        }\n      };\n      question.registerFunctionOnPropertyValueChanged(\n        \"visibleChoices\",\n        updateValueHandler\n      );\n      updateValueHandler();\n    },\n    willUnmount: function (question, el) {\n      question.resultEl.destroy();\n      question.sourceEl.destroy();\n      question.readOnlyChangedCallback = null;\n    },\n    pdfQuestionType: \"checkbox\",\n  };\n\n  Survey.CustomWidgetCollection.Instance.addCustomWidget(widget, \"customtype\");\n}\n\nif (typeof Survey !== \"undefined\") {\n  init(Survey);\n}\n\nexport default init;\n"],"names":["root","factory","exports","module","require","define","amd","self","__WEBPACK_EXTERNAL_MODULE__976__","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","n","getter","__esModule","d","a","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","r","Symbol","toStringTag","value","init","Survey","iconId","SvgRegistry","registerIconFromSvg","widget","name","title","iconName","widgetIsLoaded","defaultJSON","choices","rootStyle","areaStyle","itemStyle","isFit","question","getType","htmlTemplate","activatedByChanged","activatedBy","JsonObject","metaData","addClass","visible","addProperty","default","category","afterRender","el","source","result","this","useDefaultTheme","style","cssText","className","resultEl","document","createElement","emptyEl","sourceEl","boxSizing","innerHTML","emptyText","appendChild","addChoiceToWidget","choice","inResults","srcEl","newEl","innerText","text","dataset","onPropertyChanged","add","sender","options","isUpdatingQuestionValue","updateValueHandler","notInResults","res","visibleChoices","forEach","val","Array","isArray","i","length","hasValueInResults","push","item","ItemValue","getItemByValue","getChoicesInResults","display","animation","disabled","isReadOnly","group","put","to","from","maxAnswersCount","children","onSort","evt","valueChangedCallback","readOnlyChangedCallback","registerFunctionOnPropertyValueChanged","willUnmount","destroy","pdfQuestionType","CustomWidgetCollection","Instance","addCustomWidget"],"sourceRoot":""}