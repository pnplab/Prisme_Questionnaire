/*! For license information please see select2.min.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("widgets/select2",[],t):"object"==typeof exports?exports["widgets/select2"]=t():e["widgets/select2"]=t()}(self,(()=>(()=>{"use strict";var e={d:(t,n)=>{for(var a in n)e.o(n,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:n[a]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};function n(e,t){t=t||window.$;var n={activatedBy:"property",name:"select2",widgetIsLoaded:function(){return"function"==typeof t&&!!t.fn.select2},isFit:function(e){return"property"==n.activatedBy?"select2"===e.renderAs&&"dropdown"===e.getType():"type"==n.activatedBy?"dropdown"===e.getType():"customtype"==n.activatedBy&&"select2"===e.getType()},activatedByChanged:function(t){this.widgetIsLoaded()&&(n.activatedBy=t,e.JsonObject.metaData.removeProperty("dropdown","renderAs"),"property"==t&&(e.JsonObject.metaData.addProperty("dropdown",{name:"renderAs",category:"general",default:"default",choices:["select2","default"]}),e.JsonObject.metaData.addProperty("dropdown",{dependsOn:"renderAs",category:"general",name:"select2Config",visibleIf:function(e){return"select2"==e.renderAs}})),"customtype"==t&&(e.JsonObject.metaData.addClass("select2",[],null,"dropdown"),e.JsonObject.metaData.addProperty("select2",{name:"select2Config",category:"general",default:null})))},htmlTemplate:"<div><select style='width: 100%;'></select><textarea></textarea></div>",afterRender:function(e,n){var a=e.select2Config,o=a&&"string"==typeof a?JSON.parse(a):a;o||(o={});var l=t(n).is("select")?t(n):t(n).find("select"),i=t(n).find("textarea");i.addClass(e.cssClasses.other),i.bind("input propertychange",(function(){s||(e.comment=i.val())}));var r=function(){i.val(e.comment),e.isOtherSelected?i.show():i.hide()},s=!1,c=function(){if(!s){if(s=!0,l.find('option[value="'+(e.value||"")+'"]').length)l.val(e.value).trigger("change");else if(null!==e.value&&void 0!==e.value&&!e.isOtherSelected){var t=new Option(e.value,e.value,!0,!0);l.append(t).trigger("change")}r(),s=!1}},d=function(){if(l.select2().empty(),!o.placeholder&&e.showOptionsCaption&&(o.placeholder=e.optionsCaption,o.allowClear=!0),o.theme||(o.theme="classic"),o.disabled=e.isReadOnly,o.ajax)l.select2(o),e.keepIncorrectValues=!0;else{var t=[];(o.placeholder||e.showOptionsCaption)&&t.push({id:"",text:""}),o.data=t.concat(e.visibleChoices.map((function(e){return{id:e.value,text:e.text}}))),e.clearIncorrectValues(),l.select2(o)}n.querySelector(".select2")&&(n.querySelector(".select2").style.width="100%"),n.nextElementSibling&&(n.nextElementSibling.style.marginBottom="1px"),c()};i.prop("disabled",e.isReadOnly),e.readOnlyChangedCallback=function(){l.prop("disabled",e.isReadOnly),i.prop("disabled",e.isReadOnly)},e.registerFunctionOnPropertyValueChanged("visibleChoices",(function(){d()})),d(),l.on("change",(function(t){setTimeout((function(){e.renderedValue=t.target.value,r()}),1)})),l.on("select2:select",(function(t){setTimeout((function(){e.renderedValue=t.target.value,r()}),1)})),l.on("select2:opening",(function(e){t(this).data("unselecting")&&(t(this).removeData("unselecting"),e.preventDefault())})),l.on("select2:unselecting",(function(n){t(this).data("unselecting",!0),setTimeout((function(){e.renderedValue=null,r()}),1)})),e.valueChangedCallback=c,c()},willUnmount:function(e,n){e.readOnlyChangedCallback=null,e.valueChangedCallback=null;var a=t(n).find("select");a.data("select2")&&a.off("select2:select").off("select2:unselecting").off("select2:opening").select2("destroy")}};e.CustomWidgetCollection.Instance.addCustomWidget(n)}e.r(t),e.d(t,{default:()=>a}),"undefined"!=typeof Survey&&n(Survey,window.$);const a=n;return t})()));
//# sourceMappingURL=select2.min.js.map